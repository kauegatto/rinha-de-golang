worker_rlimit_nofile 4096;

events {
	worker_connections 4096;
}

http {
	access_log off;

	upstream api {
		server api01:8080;
		server api02:8080;
	}

	server {
		listen 9999;
		access_log off;

		location / {
			proxy_read_timeout 300s;
   			proxy_connect_timeout 75s;
			proxy_pass http://api;
		}
	}
}